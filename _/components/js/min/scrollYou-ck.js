!function(t){var e=function(e,i,s){s&&(s.stopPropagation(),s.preventDefault()),this.$element=t(e),this.options=i,this.init(),this.height=void 0,this.elementHeight=void 0};e.prototype={contructor:e,init:function(t){this.resetHeight(),this.getHeight()>this.getElementHeight()&&this.getHeight()>0&&(this.$element.addClass("scrollyou"),this.render(),this.scrollListener(),this.initialTop=parseInt(this.$scroll.css("top"),10))},render:function(){var e=this.options.scroll||"<div/>";this.$scroll=t(e),this.$scroll.addClass("scrollyou-bar"),this.$scroll.height(Math.pow(this.getElementHeight(),2)/this.getHeight()),this.$element.append(this.$scroll)},scrollListener:function(){var e=3,i=this.getHeight();void 0==this.options.acell?-1!=navigator.platform.toUpperCase().indexOf("WIN")&&(e=100):e=this.options.acell,1==this.options.show&&this.$scroll.addClass("scrollyou-show"),this.$element.on("mousewheel",t.proxy(function(t,i,s,h){var o;t.preventDefault(),t.currentTarget.scrollTop-=i*e,o=t.currentTarget.scrollTop+this.initialTop+t.currentTarget.scrollTop*(this.getElementHeight()-this.$scroll.height()-2*this.initialTop)/(this.$element.prop("scrollHeight")-this.getElementHeight()),this.$scroll.css({top:o})},this))},getHeight:function(){if(!this.height){if(this.options.height)return this.height=this.options.height,this.options.height;this.$element.children().length||console.error("Your element must have babies (children)");var t;if(this.$element.is(":visible"))t=this.$element.children().outerHeight(!0)*this.$element.children().length;else{var e=this.$element.clone().appendTo("body");e.css("display","block"),t=e.children().outerHeight(!0)*e.children().length,e.remove()}this.height=t}return this.height},getElementHeight:function(){if(!this.elementHeight){if(this.options.elementHeight)return this.elementHeight=this.options.elementHeight,this.elementHeight;var t;if(this.$element.is(":visible"))t=this.$element.height();else{var e=this.$element.clone().appendTo("body");e.css("display","block"),t=e.height(),e.remove()}this.elementHeight=t}return this.elementHeight},resetHeight:function(){this.height=void 0,this.elementHeight=void 0}},t.fn.scrollyou=function(i,s){return this.each(function(){var h=t(this),o=h.data("scrollyou"),l="object"==typeof i&&i;o||h.data("scrollyou",o=new e(this,l,s)),"string"==typeof i&&o[i]()})}}(window.jQuery);